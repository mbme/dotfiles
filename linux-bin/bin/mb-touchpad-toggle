#!/usr/bin/env bash

state_line=$(synclient | grep TouchpadOff)

if [[ ! $state_line =~ TouchpadOff.*([0-9])$ ]]; then
	echo "wrong output of synclient:\n$state_line"
	exit
fi

state=${BASH_REMATCH[1]}

if [[ "$state" == "1" ]]; then
	echo "enabling touchpad"
	notify-send "Touchpad enabled" -u low
	synclient TouchpadOff=0
else
	echo "disabling touchpad"
	notify-send "Touchpad disabled" -u low
	synclient TouchpadOff=1
fi

