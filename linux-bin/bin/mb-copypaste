#!/usr/bin/env bash

W=`xdotool getactivewindow`
S1=`xprop -id ${W} |awk '/WM_CLASS/{print $4}'`
S2='"Termite"'

if [ $1 = "copy" ]; then
    if [ $S1 = $S2 ]; then
        sleep 0.1 && xdotool key --delay 0 --clearmodifiers ctrl+C
    else
        xvkbd -xsendevent -text '\[Control_L]c'
    fi
fi

if [ $1 = "paste" ]; then
    if [ $S1 = $S2 ]; then
        sleep 0.1 && xdotool key --delay 0 --clearmodifiers ctrl+V
    else
        xvkbd -xsendevent -text '\[Control_L]v'
    fi
fi

if [ $1 = "tab" ]; then
    if [ $S1 = $S2 ]; then
        sleep 0.1 && xdotool key --delay 0 --clearmodifiers ctrl+T
    else
        xvkbd -xsendevent -text '\[Control_L]t'
    fi
fi
